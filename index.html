<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@600&display=swap" rel="stylesheet" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=TAG_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || []
      function gtag() {
        dataLayer.push(arguments)
      }
      gtag('js', new Date())

      gtag('config', 'G-V5H1V9YVQ0')
    </script>
    <title>ëœë¤ ëŒ€í¬</title>
    <style>
      body {
        font-family: 'Noto Serif JP', serif;
      }

      .wordElement {
        font-size: 200px;
      }

      button {
        font-size: 70px;
        margin: 0 20px;
      }
    </style>
  </head>
  <body>
    <div style="display: flex">
      <form class="form"><input type="text" class="input" /></form>
      <label>ë‹¨ì–´ í°íŠ¸ ì‚¬ì´ì¦ˆ</label>
      <input type="range" min="15" max="500" value="200" step="1" class="fontSizeRange" />
      <button class="resetBtn">ë‹¨ì–´ì¥ ë¦¬ì…‹</button>
      <button class="typingBtn">íƒ€ì´í•‘ ëª¨ë“œ</button>
      <select class="select">
        <option value="none">jlpt ë‹¨ì–´ ë¶ˆëŸ¬ì˜¤ê¸°</option>
        <option value="n5">n5 ë‹¨ì–´</option>
        <option value="n4">n4 ë‹¨ì–´</option>
      </select>
    </div>
    <div class="beforeGame">
      <button class="startBtn">ë‹¨ì–´ì¥ ì‹œì‘</button>
    </div>
    <div class="game" style="display: none">
      <button class="beforeBtn">ì´ì „ ë‹¨ì–´</button>
      <button class="correctBtn">ì •ë‹µ!</button>
      <button class="incorrectBtn">ì˜¤ë‹µğŸ˜«</button>
    </div>
    <div class="typeGame" style="display: none">
      <form class="typingForm" style="display: flex; flex-direction: column">
        <input class="typingInput" style="width: 50%; height: 100px" /><span class="wrongMsg" style="color: red"></span>
      </form>
    </div>

    <div class="endGameElement" style="display: none">
      <div class="incorrectList"></div>
      <button class="restartBtn">ì˜¤ë‹µ ë‹¨ì–´ë¡œ ë‹¤ì‹œí•˜ê¸°</button>
    </div>
    <div><span class="now">0</span>/<span class="total">0</span></div>
    <div class="wordElement">ë‹¨ì–´</div>
    <a class="link" href="#" target="_blank">í˜„ì¬ ë‹¨ì–´ ë„¤ì´ë²„ ì‚¬ì „ì—ì„œ ê²€ìƒ‰í•˜ê¸°</a>
    <script>
      const jlptWord = {
        n5: 'é’ã„,èµ¤ã„,ä¸ŠãŒã‚‹,æ˜ã‚‹ã„,é–‹ã,é–‹ã‘ã‚‹,ä¸Šã’ã‚‹,æœ,æœå¾¡é£¯,è¶³,æ˜æ—¥,éŠã¶,é ­,æ–°ã—ã„,æš‘ã„,å¾Œ,å…„,å§‰,æµ´ã³ã‚‹,ç”˜ã„,ä½™ã‚Š,é›¨,æ´—ã†,æ­©ã,è‰¯ã„,è¨€ã†,å®¶,è¡Œã,å¹¾ã¤,åŒ»è€…,æ¤…å­,å¿™ã—ã„,ç—›ã„,ä¸€,ä¸€æœˆ,ä¸€æ™‚,ä¸€æ—¥,ä¸€å¹´,ä¸€ç•ª,äº”æ—¥,ä¸€å›,ä¸€å€‹,ä¸€é€±é–“,äº”ã¤,ä¸€æ¯,ä¸€åˆ†,ä¸€æœ¬,çŠ¬,ä»Š,æ„å‘³,å¦¹,å«Œãª,å…¥,è¦ã‚‹,å…¥ã‚Œã‚‹,è‰²,è‰²ã€…,ä¸Š,å¾Œã‚,æ­Œ,æ­Œã†,ç”Ÿ,å£²ã‚‹,ä¸Šç€,çµµ,æ˜ ç”»é¤¨,è‹±èª,é§…,å††,é‰›ç­†,å¤šã„,å¤§ãã„,å¤§ããª,ãŠæ¯ã•ã‚“,ãŠè“å­,ãŠé‡‘,ãŠå®¢ã•ã‚“,èµ·ãã‚‹,ç½®ã,å¥¥ã•ã‚“,ãŠé…’,ãŠçš¿,æ•™ãˆã‚‹,æŠ¼ã™,é…ã„,ãŠèŒ¶,ãŠçˆ¶ã•ã‚“,å¼Ÿ,ç”·,ç”·ã®å­,ç”·ã®äºº,å¤§äºº,ãŠè…¹,åŒã˜,ãŠå…„ã•ã‚“,ãŠå§‰ã•ã‚“,ãŠé¢¨å‘‚,ãŠå¼å½“,è¦šãˆã‚‹,é‡ã„,æ³³ã,é™ã‚Šã‚‹,å¥³,å¥³ã®å­,å¤–å›½,ä¼šç¤¾,ä¼šç¤¾å“¡,éšæ®µ,è²·,è¿”ã™,å¸°ã‚‹,é¡”,éµ,æ›¸ã,å­¦ç”Ÿ,å‚˜,è²¸ã™,é¢¨,é¢¨é‚ª,å®¶æ—,å­¦æ ¡,è§’,èŠ±ç“¶,ç´™,ç«æ›œæ—¥,è¾›ã„,ä½“,å€Ÿã‚Šã‚‹,è»½ã„,å·Â·æ²³,æ¼¢å­—,æœ¨,é»„è‰²ã„,æ¶ˆãˆã‚‹,åŒ—,æ±šã„,å–«èŒ¶åº—,åˆ‡æ‰‹,åˆ‡ç¬¦,æ˜¨æ—¥,ä¹,ç‰›è‚‰,ç‰›ä¹³,ä¹äºº,ä¹å¹´,ä¹åˆ†,ä»Šæ—¥,æ•™å®¤,å…„å¼Ÿ,å»å¹´,å«Œã„ãª,éŠ€è¡Œ,é‡‘æ›œæ—¥,ä¹æœˆ,ä¹æ™‚,è–¬,æœç‰©,å£,é´,é´ä¸‹,å›½,æš—ã„,æ¥ã‚‹,è»Š,é»’ã„,ä»Šæœ,æ¶ˆã™,çµå©š,æœˆæ›œæ—¥,å…ƒæ°—,å…ƒæ°—ãª,äº”,å…¬åœ’,ç´…èŒ¶,äº¤ç•ª,å£°,äº”æœˆ,åˆå¾Œ,ä¹æ—¥,ä¹ã¤,äº”æ™‚,åˆå‰,ç­”ãˆã‚‹,ä»Šå¹´,å­ä¾›,äº”äºº,äº”å¹´,å¾¡é£¯,äº”åˆ†,å›°ã‚‹,ä»Šæœˆ,ä»Šé€±,ä»Šæ™©,è²¡å¸ƒ,é­š,å…ˆ,å’²ã,ä½œæ–‡,é›‘èªŒ,å¯’ã„,ä¸‰,ä¸‰æœˆ,ä¸‰æ™‚,ä¸‰å¹´,ä¸‰åˆ†,æ•£æ­©,å››,å¡©,å››æœˆ,æ™‚é–“,ä»•äº‹,é™ã‹ãª,ä¸ƒ,ä¸ƒæœˆ,ä¸ƒæ™‚,ä¸ƒäºº,ä¸ƒå¹´,ä¸ƒåˆ†,æ­»ã¬,é–‰ã¾ã‚‹,é–‰ã‚ã‚‹,å†™çœŸ,å,åä¸€æœˆ,åä¸€æ™‚,åä¸€æ—¥,åæœˆ,åä¹æ—¥,åäº”æ—¥,åä¸‰æ—¥,åæ™‚,åä¸ƒæ—¥,åäºŒæœˆ,åäºŒæ™‚,åäºŒæ—¥,åäºº,åå¹´,åå…«æ—¥,åå››æ—¥,åå…­æ—¥,å®¿é¡Œ,ååˆ†,ä¸Šæ‰‹ãª,é£Ÿå ‚,ç™½ã„,æ–°è,æ°´æ›œæ—¥,å¸ã†,å°‘ãªã„,å°‘ã—,ä½ã‚€,åº§ã‚‹,èƒŒ,ç”Ÿå¾’,ç‹­ã„,åƒ,å…ˆæœˆ,å…ˆé€±,å…ˆç”Ÿ,å¤–,å´Â·å‚,ç©º,å¤§å­¦,å¤§ä¸ˆå¤«ã ,å¤§å¥½ããª,å¤§å¤‰,å¤§å¤‰ãª,é«˜ã„,å‡ºã™,å»ºç‰©,æ¥½ã—ã„,é£Ÿã¹ç‰©,é£Ÿã¹ã‚‹,åµ,èª°,èª•ç”Ÿæ—¥,å°ã•ã„,å°ã•ãª,è¿‘ã„,è¿‘ã,çˆ¶,æœº,ä½œã‚‹,å¼·ã„,æ‰‹,æ‰‹ç´™,å‡ºå£,å‡ºã‚‹,é›»æ°—,å¤©æ°—,é›»è»Š,é›»è©±,å‹•ç‰©,å,é ã„,åæ—¥,é ã,æ™‚æ™‚,æ™‚è¨ˆ,æ‰€,å¹´,å›³æ›¸é¤¨,éš£,é£›ã¶,å‹é”,åœŸæ›œæ—¥,é³¥,é³¥è‚‰,æ’®ã‚‹,ä¸­,å¤,å¤ä¼‘ã¿,ä¸ƒã¤,ä¸ƒäºº,ä¸ƒå¹´,ä¸ƒåˆ†,ä½•,ä¸ƒæ—¥,åå‰,ç¿’ã†,ä½•,ä½•éš,ä½•å€‹,ä½•æ™‚,ä½•æ—¥,ä½•äºº,ä½•å¹´,ä½•æ¯,ä½•ç•ª,ä½•æœ¬,äºŒæœˆ,è³‘ã‚„ã‹ãª,è¥¿,äºŒæ™‚,äºŒåä¸€æ—¥,äºŒåå…«æ—¥,äºŒåˆ†,æ—¥æœ¬,æ—¥æœ¬äºº,åº­,çŒ«,å¯ã‚‹,ç™»ã‚‹,é£²,é£²ã‚€,ä¹—ã‚‹,å…¥ã‚‹,è‘‰æ›¸,å§‹ã¾ã‚‹,å§‹ã‚ã¾ã—ã¦Â·åˆã‚ã¾ã—ã¦,å…«,å…«æœˆ,å…«æ™‚,å…«äºº,å…«å¹´,å…«åˆ†,äºŒåæ—¥,å…«åˆ†,é¼»,èŠ±Â·è¯,è©±,è©±ã™,æ¯,é€Ÿã„,æ—©ã„,æ˜¥,ç•ªå·,æ™©å¾¡é£¯,æ±,ä½ã„,é£›è¡Œæ©Ÿ,äºº,ä¸€ã¤,ä¸€äºº,æš‡ãª,æ˜¼,æ˜¼å¾¡é£¯,åºƒã„,æœ,äºŒã¤,äºŒäºº,äºŒæ—¥,å†¬,é™ã‚‹,å¤ã„,éƒ¨å±‹,å‹‰å¼·,ä¾¿åˆ©ãª,æ–¹,å¤–,æœ¬,æ¯æœ,æ¯æœˆ,æ¯é€±,æ¯æ—¥,æ¯å¹´,æ¯æ™©,å‰,æ›²ãŒã‚‹,ç”º,å¾…ã¤,çª“,ä¸¸ã„,ç£¨ã,å³,çŸ­ã„,æ°´,åº—,è¦‹ã›ã‚‹,é“,ä¸‰æ—¥,ä¸‰ã¤,ç·‘,çš†ã•ã‚“,å—,è€³,è¦‹ã‚‹,çš†,å…­æ—¥,é›£ã—ã„,å…­ã¤,ç›®,çœ¼é¡,ã‚‚ã†ä¸€åº¦,æœ¨æ›œæ—¥,æŒã¤,ç‰©,é–€,å•é¡Œ,å…«ç™¾å±‹,é‡èœ,å®‰ã„,ä¼‘ã¿,å…«ã¤,å±±,å¤•æ–¹,å¤•å¾¡é£¯,å¤•é£¯,é›ª,è‰¯ã„,å…«æ—¥,æ´‹æœ,æ¨ª,å››æ™‚,å››æ—¥,å››ã¤,å››äºº,å››å¹´,å‘¼ã¶,èª­ã‚€,å¤œ,å¼±ã„,å››,å››åˆ†,æ¥æœˆ,æ¥é€±,æ¥å¹´,ç•™å­¦ç”Ÿ,æ–™ç†,å…­,å…­æœˆ,å…­æ™‚,å…­äºº,å…­å¹´,å…­åˆ†,åˆ†ã‹ã‚‹,æ‚ªã„',
        n4: 'å›,å›,è»’,å€‹,èª,é ƒ,æ™‚,äºº,è£½,å°,é”,å»º,å€,æ¯,ç•ªç·š,åŒ¹,ç§’,åˆ†,æœ¬,æš,å±‹,é–“,åˆã†,èµ¤ã¡ã‚ƒã‚“,ç©ºã,æµ…ã„,å‘³,è¶³éŸ³,æ˜æ—¥,æ±—,éŠã³,ç†±ã„,åšã„,æš‘ã•,é›†ã¾ã‚‹,è¬ã‚‹,å®‰å¿ƒ,å®‰å…¨,æ¡ˆå†…,ä»¥ä¸‹,ä»¥å¤–,åŒ»å­¦,ç”Ÿãæ–¹,æ„è¦‹,çŸ³,ä»¥ä¸Š,æ€¥ã,è‡´ã™,é ‚ã,ä¸€åº¦,ä¸€æ—¥ä¸­,ä¸€ç·’,ä¸€ç”Ÿæ‡¸å‘½,ä¸€ä½“,è¡Œã£ã¦ã‚‰ã£ã—ã‚ƒã„,ç³¸,ä»¥å†…,ç”°èˆ,å‘½,ç¥ˆã‚‹,å±…é–“,è‰²ç´™,ç¥ã†,é£²é…’,æ¤ãˆã‚‹,ä¼ºã†,å—ä»˜,å—ã‘ã‚‹,è–„ã„,å†…,å†…å´,æ‰“ã¤,ç¾ã—ã„,å†™ã™,è£,å£²,é‹,é‹è»¢,é‹è»¢æ‰‹,é‹å‹•,é‹å‹•ä¼š,æ˜ ç”»,è‹±ä¼šè©±,å–¶æ¥­,é§…å“¡,æ,é¸ã¶,é æ…®,å¾¡,æ¨ªæ–­æ­©é“,å¤§é›¨,å¤§å‹¢,å¤§é›ª,å„„,å¥¥ã•ã‚“,å±‹ä¸Š,è´ˆ,é€ã‚‹,é…ã‚Œã‚‹,ãŠå­ã•ã‚“,èµ·ã“ã™,æ€’ã‚‹,æŠ¼ã—å…¥ã‚Œ,ãŠå¬¢ã•ã‚“,ãŠå®…,è½ã¡ã‚‹,å¤«,ãŠé‡£ã‚Š,ãŠæ‰‹æ´—ã„,ãŠå‡ºã‹ã‘,éŸ³,è½ã¨ã—ç‰©,ãŠå¹´å¯„ã‚Š,è½ã¨ã™,è¸Šã‚Š,è¸Šã‚‹,é©šã,ãŠç¥­,ãŠè¦‹èˆã„,æ€ã„å‡ºã™,æ€ã†,è¡¨,ãŠä¼‘ã¿ã«ãªã‚‹,ä¸‹ã‚Šã‚‹,æŠ˜ã‚Œã‚‹,çµ‚ã‚ã‚Š,ä¼š,æµ·å²¸,ä¼šè­°,ä¼šå ´,å¤–é£Ÿ,å¤–éƒ¨,ä¼šè©±,é£¼ã†,å¸°ã‚Š,å¤‰ãˆã‚‹,ç§‘å­¦,é¡,æ›¸ãæ–¹,é£¾ã‚Š,é£¾ã‚‹,ç«äº‹,æ­Œæ‰‹,è‚©,æ–¹,å …ã„Â·å›ºã„,ç‰‡ä»˜ã‘ã‚‹,èª²é•·,å‹ã¤,ã‹ã£ã“æ‚ªã„,å®¶åº­,å®¶å†…,æ‚²ã—ã„,å¿…ãš,é‡‘æŒã¡,å½¼å¥³,å£,é«ª,åš™ã‚€Â·å’¬ã‚€,é€šã†,å½¼,å½¼ã‚‰,å´,ä¹¾ã,ä»£ã‚ã‚Š,å¤‰ã‚ã‚‹,è€ƒãˆæ–¹,è€ƒãˆã‚‹,é–¢ä¿‚,è¦³å…‰,çœ‹è­·å¸«,ç°¡å˜ãª,é ‘å¼µã‚‹,æ°—,æ©Ÿæ¢°,æ©Ÿä¼š,æœŸé–“,èãå–ã‚Š,èã“ãˆã‚‹,æ±½è»Š,è¦å‰‡,æ°—ã«å…¥ã‚‹,çµ¹,å³ã—ã„,æ°—åˆ†,æ±ºã¾ã‚‹,å›,æ±ºã‚ã‚‹,æ°—æŒã¡,ç€ç‰©,å®¢,æ€¥è¡Œ,æ€¥ã«,æ•™è‚²,æ•™ä¼š,èˆˆå‘³,åˆ‡ã‚‹,ç€ã‚‹,é‡‘é­š,è¿‘æ‰€,å…·åˆ,ç©ºæ°—,ç©ºæ¸¯,è‰,ä¸‹ã•ã„,ä¸‹ã•ã‚‹,é›²,æ›‡,æ›‡ã‚‹,æ¯”ã¹ã‚‹,è‹¦ã—ã„,æš®ã‚Œã‚‹,è»äºº,æ¯›,è¨ˆç”»,çµŒé¨“,çµŒæ¸ˆ,è­¦å¯Ÿ,æ€ªæˆ‘,æ™¯è‰²,çµæ§‹,çµæ§‹ã ,æ¬ å¸­,åŸå› ,å–§å˜©,ç„é–¢,ç ”ç©¶å®¤,è¦‹ç‰©,å¾¡,å­,å°çŠ¬Â·å­çŠ¬,å…¬é–‹,éƒŠå¤–,è¬›ç¾©,å·¥æ¥­,é«˜æ ¡,é«˜æ ¡ç”Ÿ,äº¤å·®ç‚¹,å·¥äº‹,å·¥å ´,æ ¡é•·,äº¤é€š,è¬›å ‚,å…¬å‹™å“¡,æ°·,å›½éš›,å›½ç”£,å›½å†…,å›½æ°‘,å›½ç«‹,å¿ƒ,æ•…éšœ,å€‹äºº,ã”å­˜ã˜ã ,ç­”,å¾¡é¦³èµ°,è¨€è‘‰,å°é³¥,å°çŒ«Â·å­çŒ«,ã“ã®é–“,ã“ã®é ƒ,æœ¨ã®è‘‰,ã“ã®è¾º,ç´°ã‹ã„,è¾¼ã‚€,ç±³,ã”è¦§ã«ãªã‚‹,è»¢ã¶,æ€–ã„,å£Šã™,å£Šã‚Œã‚‹,ä»Šå›,ä»Šåº¦,ä»Šå¤œ,æœ€è¿‘,æœ€å¾Œ,æœ€åˆ,å‚,æ¢ã™Â·æœã™,ä¸‹ãŒã‚‹,ç››ã‚“ãª,ä½œå“,æ¡œ,ä¸‹ã’ã‚‹,å·®ã—ä¸Šã’ã‚‹,å·®ã™,å…ˆ,ç ‚ç³–,å¯‚ã—ã„,æ§˜,å†æ¥æœˆ,å†æ¥é€±,è§¦ã‚‹,ç”£æ¥­,ç®—æ•°,è³›æˆ,æ®‹å¿µ,å¸‚,å­—,è©¦åˆ,ä»•æ–¹,ä»•æ–¹ãªã„,å±ã‚‹,è©¦é¨“,äº‹æ•…,åœ°éœ‡,èˆŒ,æ™‚ä»£,ä¸‹ç€,æ”¯åº¦Â·ä»•åº¦,è¦ªã—ã„,å®¤å†…,å¤±æ•—,è³ªå•,å¤±ç¤¼,è‡ªè»¢è»Š,è‡ªå‹•,è‡ªå‹•è»Š,å¸‚å†…,å“ç‰©,æ”¯æ‰•,å­—å¼•,è‡ªåˆ†,å³¶,å§‰å¦¹,å¸‚æ°‘,äº‹å‹™æ‰€,ç¤¾ä¼š,ä¸­,ä½æ‰€,æŸ”é“,è¶£å‘³,æº–å‚™,ç´¹ä»‹,é†¬æ²¹,å°†æ¥,é£Ÿäº‹,çŸ¥ã‚‰ã›ã‚‹,äººå£,ç¥ç¤¾,æ–°å¹´,å¿ƒé…,æ°´æ³³,æ°´é“,éãã‚‹,å‡„ã„,æ¶¼ã—ã„,é€²ã‚€,æ¨ã¦ã‚‹,ç ‚,ç´ æ™´ã‚‰ã—ã„,ç”Ÿæ´»,ç”Ÿç”£,æ”¿æ²»,è¥¿æ´‹,ä¸–ç•Œ,ä¸–ç•Œä¸­,å¸­,èª¬æ˜,èƒŒä¸­,èƒŒåºƒ,ä¸–è©±,ç·š,å…¨å›½,é¸æ‰‹,å…¨ç„¶,å…ˆã€…æœˆ,å…ˆã€…é€±,æˆ¦äº‰,å…¨ä½“,æ´—æ¿¯,å…ˆè¼©,å…¨éƒ¨,å°‚é–€,æƒé™¤,æ—©é€€,ç›¸è«‡,è‚²ã¦ã‚‹,å’æ¥­,å¤–å´,ç¥–çˆ¶,ç¥–æ¯,å‰ƒã‚‹,ãã‚Œç¨‹,é€€é™¢,å¤§å­¦ç”Ÿ,å¤§ä½¿é¤¨,å¤§äº‹ãª,å¤§åˆ‡ãª,å¤§ä½“,å¤§åº•Â·å¤§æŠµ,å¤§åˆ†,å°é¢¨,å€’ã‚Œã‚‹,ç«¹,ç¢ºã‹,å¤šæ•°,è¨ªã­ã‚‹,åªä»Š,ç•³,å»ºã¤,ç¸¦,å»ºã¦ã‚‹,ä¾‹ãˆã°,æ£š,æ¥½ã—ã¿,é ¼ã‚€,å¤šåˆ†,é£Ÿã¹éã,é§„ç›®ã ,è¶³ã‚Šãªã„,è¶³ã‚Šã‚‹,ç”·æ€§,è¡€,é•ã†,åŠ›,åœ°å›³,çˆ¶è¦ª,èŒ¶è‰²,èŒ¶ã‚ã‚“,æ³¨æ„,ä¸­å­¦ç”Ÿ,ä¸­æ­¢,é§è»Š,é§è»Šå ´,åœ°ç†,æ•ã¾ãˆã‚‹,ä»˜ã,ä»˜ã‘ã‚‹,éƒ½åˆ,ä¼ãˆã‚‹,ç¶šã,ç¶šã‘ã‚‹,åŒ…ã‚€,å‹¤ã‚ã‚‹,å¦»,çˆª,å†·ãŸã„,ç©ã‚‚ã‚‹,æ¢…é›¨,é‡£ã‚‹,é€£ã‚Œã‚‹,ä¸å¯§,å‡ºæ›ã‘ã‚‹,æ‰‹ä¼ã†,æ‰‹è¢‹,æ‰‹å…ƒ,å¯º,ç‚¹,åº—å“¡,é›»æ°—ä»£,é›»å ±,å±•è¦§ä¼š,åº¦,æˆ¸,é“å…·,å‹•ç‰©åœ’,é€šã‚Š,é€šã‚‹,æ™‚,ç‰¹ã«,ç‰¹åˆ¥,åºŠå±‹,é–‰ã˜ã‚‹,é€”ä¸­,ç‰¹æ€¥,å±Šã,å±Šã‘ã‚‹,æ³Šã¾ã‚‹,æ­¢ã¾ã‚‹,æ³Šã‚ã‚‹,æ­¢ã‚ã‚‹,å–ã‚Šæ›¿ãˆã‚‹Â·å–ã‚Šæ›ãˆã‚‹,å–ã‚‹,æ³¥æ£’,å†…éƒ¨,ç›´ã™,æ²»ã™,ç›´ã‚‹,æ²»ã‚‹,æµã‚Œã‚‹,é³´ã,æ³£ã,ç„¡ãã™,äº¡ããªã‚‹,ç„¡ããªã‚‹,æŠ•ã’ã‚‹,ç­‰,ç”Ÿãƒ“ãƒ¼ãƒ«,ä¸¦ã¶,ä¸¦ã¹ã‚‹,æ…£ã‚Œã‚‹,ä½•åº¦,ä¼¼åˆã†,åŒ‚ã„,è‹¦ã„,è‚‰å±‹,é€ƒã’ã‚‹,æ—¥è¨˜,è·ç‰©,å…¥é™¢,å…¥å­¦,å…¥ç¤¾,ä¼¼ã‚‹,äººå½¢,äººå‚,è„±ã,ç›—ã‚€,å¡—ã‚‹,æ¿¡ã‚Œã‚‹,é¡˜ã†,å€¤æ®µ,ç†±,å¯åŠ,çœ ã„,çœ ãŸã„,çœ ã‚‹,å¹´ä»£,æ®‹ã‚‹,å–‰,é£²ã¿ã™ã,ä¹—ã‚Šæ›ãˆ,ä¹—ã‚Šæ›ãˆã‚‹,ä¹—,è‘‰,æ­¯,å ´åˆ,æ‹è¦‹ã™ã‚‹,æ­¯åŒ»è€…,ç™½èœ,ç®±,é‹ã¶,å§‹ã¾ã‚Š,åˆã‚ã¦,å§‹ã‚ã‚‹,èµ°ã‚‹,æ¥ãšã‹ã—ã„,ç™ºéŸ³,èŠ±è¦‹,ç¾½,æ—,æ‰•ã†,æ™´ã‚Œ,æ™´ã‚Œã‚‹,æ™©,åŠ,ç•ª,ç•ªçµ„,åå¯¾,åŠåˆ†,ãƒ‘ãƒ³å±‹,æ—¥,å†·ãˆã‚‹,å…‰,å…‰ã‚‹,å¼•ãå‡ºã—,å¼•ã,å¼¾ã,é£›è¡Œå ´,ä¹…ã—ã¶ã‚Š,ç¾è¡“é¤¨,éå¸¸ã«,å·¦,å¼•,å¿…è¦,ä¸€æœˆ,é–‹ã,æ˜¼é–“,æ˜¼ä¼‘ã¿,åºƒã•,å°ç­’,å¢—ãˆã‚‹,å¹ã,è¤‡é›‘,å¾©ç¿’,è±šè‚‰,éƒ¨é•·,æ™®é€š,å¤ªã„,è‘¡è„,å¤ªã‚‹,å¸ƒå›£,èˆ¹Â·èˆŸ,ä¸ä¾¿,è¸ã‚€,é¢¨å‘‚,æ–‡åŒ–,æ–‡å­¦,æ–‡æ›¸,æ–‡ç« ,æ–‡æ³•,ä¸‹æ‰‹,åˆ¥ã«,è¾º,å¤‰,è¿”äº‹,å¼å½“,è²¿æ˜“,å¸½å­,æ”¾é€,æ³•å¾‹,åƒ•,æ˜Ÿ,æ¬²ã—ã„,ç´°ã„,éª¨,è¤’ã‚ã‚‹,æœ¬æ°—,æœ¬æ£š,æœ¬å½“,æœ¬å½“ã«,æœ¬å±‹,æ¯æœˆ,æ¯å¹´,å‚ã‚‹,è² ã‘ã‚‹,å­«,çœŸé¢ç›®ãª,é–“é•ãˆã‚‹,é–“ã«åˆã†,å®ˆã‚‹,å††ã„,å›ã‚‹,ä¸‡,æ¼«ç”»,çœŸã‚“ä¸­,ä¸‡å¹´ç­†,è¦‹ãˆã‚‹,è¦‹ä»˜ã‹ã‚‹,è¦‹ä»˜ã‘ã‚‹,çš†,æ¸¯,è¿ãˆã‚‹,æ˜”,å‘,è™«,æ¯å­,æ¯å­ã•ã‚“,å¨˜,å¨˜ã•ã‚“,æ‘,ç„¡ç†,å¬ã—ä¸ŠãŒã‚‹,ç”³ã—ä¸Šã’ã‚‹,ç”³ã™,ã‚‚ã†ä¸€ã¤,æŒã¡å¸°ã‚Š,æˆ»ã™,æˆ»ã‚‹,æœ¨ç¶¿,æ£®,å¤œé–“,ç„¼ã,ç´„æŸ,å½¹ã«ç«‹ã¤,ç„¼ã‘ã‚‹,æ˜“ã—ã„,å„ªã—ã„,ç—©ã›ã‚‹,å±±é“,æ­¢ã‚€,æ­¢ã‚ã‚‹,æŸ”ã‚‰ã‹ã„,å¤•é£Ÿ,éƒµä¾¿å±€,å¤•ã¹,æœ‰å,è¡Œã,è¼¸å‡º,è¼¸å…¥,æŒ‡,æŒ‡è¼ª,å¤¢,æºã‚Œã‚‹,é…”ã„,ç”¨æ„,ç”¨äº‹,æ±šã‚Œã‚‹,äºˆç¿’,äºˆå®š,èª­ã¿æ–¹,èª­,äºˆç´„,å¯„ã‚‹,å–œã¶,ç«‹æ´¾ãª,ç†ç”±,åˆ©ç”¨,ä¸¡è¦ª,ä¸¡æ–¹,æ—…é¤¨,æ—…è¡Œ,ç•™å®ˆ,é›¶,å†·è”µåº«,å†·æˆ¿,æ­´å²,åˆ—è»Š,ç·´ç¿’,é€£çµ¡,å»Šä¸‹,è€äºº,è‹¥ã„,æ²¸ã‹ã™,åˆ¥ã‚Œã‚‹,æ²¸ã,è¨³,å¿˜ã‚Œç‰©,ç§,æ¸¡ã™,æ¸¡ã‚‹,ç¬‘ã†,å‰²ã‚‹,å‰²ã‚Œã‚‹',
      }
      const $form = document.querySelector('.form')
      const $input = document.querySelector('.input')
      const $wordElement = document.querySelector('.wordElement')
      const $correctBtn = document.querySelector('.correctBtn')
      const $incorrectBtn = document.querySelector('.incorrectBtn')
      const $beforeBtn = document.querySelector('.beforeBtn')
      const $now = document.querySelector('.now')
      const $total = document.querySelector('.total')
      const $fontSizeRange = document.querySelector('.fontSizeRange')
      const $link = document.querySelector('.link')
      const $incorrectList = document.querySelector('.incorrectList')
      const $endGameElement = document.querySelector('.endGameElement')
      const $restartBtn = document.querySelector('.restartBtn')
      const $resetBtn = document.querySelector('.resetBtn')
      const $startBtn = document.querySelector('.startBtn')
      const $beforeGame = document.querySelector('.beforeGame')
      const $game = document.querySelector('.game')
      const $typeGame = document.querySelector('.typeGame')
      const $select = document.querySelector('.select')
      const $n5 = document.querySelector('.n5')
      const $n4 = document.querySelector('.n4')
      const $typingBtn = document.querySelector('.typingBtn')
      const $typingInput = document.querySelector('.typingInput')
      const $typingForm = document.querySelector('.typingForm')
      const $wrongMsg = document.querySelector('.wrongMsg')

      let nowValue = 0
      let passedWords = []
      let words = []
      let incorrectWords = []
      let fontSize = 200
      let isGameStarted = false
      let currentWord = 'ë‹¨ì–´'

      function getWords(value) {
        const words = value.split(',')
        return words
      }

      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1))
          ;[array[i], array[j]] = [array[j], array[i]]
        }
        return array
      }

      function onClickTypingBtn() {
        if (isGameStarted) {
          if ($typingBtn.textContent === 'íƒ€ì´í•‘ ëª¨ë“œ') {
            $game.style.display = 'none'
            $typeGame.style.display = 'block'
            $typingBtn.textContent = 'ë²„íŠ¼ í´ë¦­ ëª¨ë“œ'
          } else {
            $game.style.display = 'block'
            $typeGame.style.display = 'none'
            $typingBtn.textContent = 'íƒ€ì´í•‘ ëª¨ë“œ'
          }
        } else {
          alert('íƒ€ì´í•‘ëª¨ë“œë¥¼ ì§„í–‰í•˜ê³  ì‹¶ë‹¤ë©´ ê²Œì„ì„ ë¨¼ì € ì‹œì‘í•˜ê³  ëˆŒëŸ¬ì£¼ì„¸ìš”.')
        }
      }

      function getWordLink(word) {
        const encodedWord = encodeURIComponent(word)
        return `https://ja.dict.naver.com/search.nhn?dicQuery=${encodedWord}&query=${encodedWord}&target=dic&ie=utf8&query_utf=&isOnlyViewEE=`
      }

      function gameStart(wordArray) {
        const shuffled = shuffleArray(wordArray)
        const passed = shuffled.slice().reverse()
        passedWords = passed
        words = shuffled
        $total.textContent = words.length
        $input.value = ''
      }

      function reset() {
        nowValue = 0
        passedWords = []
        words = []
        $wordElement.textContent = 'ë‹¨ì–´'
        $now.textContent = nowValue
        $total.textContent = words.length
        $incorrectList.textContent = ''
        $endGameElement.style.display = 'none'
        $beforeGame.style.display = 'block'
        $game.style.display = 'none'
        $typeGame.style.display = 'none'
      }

      function onSubmitForm(event) {
        event.preventDefault()
        const value = $input.value
        if (!value) {
          return
        }
        gtag('event', 'form_submit', {
          date: new Date().toLocaleString('ko'),
          value: value,
        })
        const wordArray = value.split(',')
        gameStart(wordArray)
      }

      function showNextWord(word) {
        $wordElement.textContent = word
        $link.href = getWordLink(word)
        nowValue += 1
        $now.textContent = nowValue
      }

      async function onSubmitTypingForm() {
        const value = $typingInput.value
        const url =
          'https://corsproxy.io/?' +
          encodeURIComponent(`https://jisho.org/api/v1/search/words?keyword=${$wordElement.textContent}`)
        console.log('url', url)
        const json = await (await fetch(url)).json()

        const reading = json.data[0].japanese[0].reading
        if (!reading) {
          alert('ì‚¬ì „ì— ì—†ëŠ” ë‹¨ì–´ì´ë¯€ë¡œ ì •ë‹µì²˜ë¦¬. ì˜¬ë°”ë¥¸ ë‹¨ì–´ì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”')
          onClickCorrectButton()
          return
        }
        if (value === reading) {
          onClickCorrectButton()
        } else {
          $wrongMsg.textContent = 'í‹€ë ¸ìŠµë‹ˆë‹¤.'
        }
      }

      function endGame() {
        alert('ë')
        $endGameElement.style.display = 'block'
        let sentence = ''
        if (incorrectWords.length === 0) {
          sentence = 'ëª¨ë‘ ë§ì•˜ìŠµë‹ˆë‹¤!'
        } else {
          sentence = `ì˜¤ë‹µ ë‹¨ì–´: ${incorrectWords.join(',')}`
        }
        gtag('event', 'end_game', {
          date: new Date().toLocaleString('ko'),
          incorrectWords: incorrectWords.join(','),
        })
        $incorrectList.textContent = sentence
      }

      function onClickCorrectButton() {
        if (nowValue >= words.length) {
          endGame()
          return
        }
        const currentWordIndex = incorrectWords.indexOf(words[nowValue - 1])
        if (currentWordIndex !== -1) {
          incorrectWords.splice(currentWordIndex, 1)
        }
        console.log('incorrectWords', incorrectWords)
        const word = words[nowValue]
        showNextWord(word)
      }

      function onClickIncorrectButton() {
        const currentWord = words[nowValue - 1]
        if (incorrectWords.indexOf(currentWord) === -1) {
          incorrectWords.push(currentWord)
        }
        console.log('incorrectWords', incorrectWords)
        if (nowValue >= words.length) {
          endGame()
          return
        }

        const word = words[nowValue]
        showNextWord(word)
      }

      function onClickBeforeButton() {
        if (nowValue <= 0) {
          return
        }

        nowValue -= 1
        const word = passedWords[passedWords.length - nowValue]
        $wordElement.textContent = word
        $link.href = getWordLink(word)
        $now.textContent = nowValue
      }

      function onClickRestartButton() {
        reset()
        gameStart(incorrectWords)
        incorrectWords = []
      }

      function onChangeFontSizeRange(event) {
        const value = event.target.value
        $wordElement.style.fontSize = `${value}px`
      }

      $beforeBtn.addEventListener('click', onClickBeforeButton)
      $form.addEventListener('submit', onSubmitForm)
      $resetBtn.addEventListener('click', () => {
        reset()
        incorrectWords = []
      })
      $correctBtn.addEventListener('click', onClickCorrectButton)
      $incorrectBtn.addEventListener('click', onClickIncorrectButton)
      $fontSizeRange.addEventListener('change', onChangeFontSizeRange)
      $restartBtn.addEventListener('click', onClickRestartButton)
      $select.addEventListener('change', (e) => {
        const value = e.target.value
        const wordArray = jlptWord[value]?.split(',') ?? []
        console.log('wordArray', wordArray)
        gameStart(wordArray)
      })
      $startBtn.addEventListener('click', () => {
        if (words.length === 0) {
          alert('ë‹¨ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”')
          return
        }
        $beforeGame.style.display = 'none'
        $game.style.display = 'block'
        isGameStarted = true
        showNextWord(words[0])
      })

      gtag('event', 'access', {
        date: new Date().toLocaleString('ko'),
      })
      $typingForm.addEventListener('submit', (e) => {
        e.preventDefault()
        onSubmitTypingForm()
      })
      $typingBtn.addEventListener('click', onClickTypingBtn)
      $typingInput.addEventListener('change', () => {
        $wrongMsg.textContent = ''
      })
    </script>
  </body>
</html>
